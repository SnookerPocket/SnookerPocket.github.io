(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[232],{7481:function(e,t,n){"use strict";n.d(t,{AW:function(){return f},DX:function(){return C},Hx:function(){return N},IK:function(){return A},OS:function(){return p},PR:function(){return g},Rh:function(){return j},Rz:function(){return l},Xz:function(){return h},hu:function(){return w},iV:function(){return u},jn:function(){return P},nl:function(){return v},pn:function(){return k},sx:function(){return S},te:function(){return x},xR:function(){return m},zz:function(){return O}});var o=n(2321);let r="https://app.snookerpocket.online",s="".concat(r,":").concat(443,"/api/speeldagen/"),a="".concat(r,":").concat(443,"/api/users/"),i="".concat(r,":").concat(443,"/api/seizoenen"),c="".concat(r,":").concat(443,"/api/speeldagVotes/"),d="".concat(r,":").concat(443,"/api/speeldagen/");function l(){return new Promise((e,t)=>{let n=(0,o.get)("".concat(i,"/"));n.on("response",n=>{if(200===n.statusCode){let t="";n.on("data",e=>{t+=e}),n.on("end",()=>{let n=JSON.parse(t),o=n[0].speeldagen;o.seizoenID=n[0]._id,e(o)})}else t(Error("Failed to retrieve speeldagen"))}),n.on("error",e=>{t(e)})})}function u(e){return new Promise((t,n)=>{let r=(0,o.get)("".concat(s).concat(e));r.on("response",o=>{if(200===o.statusCode){let e="";o.on("data",t=>{e+=t}),o.on("end",()=>{t(JSON.parse(e))})}else n(Error("Failed to retrieve speeldag with id ".concat(e)))}),r.on("error",e=>{n(e)})})}function p(){return new Promise((e,t)=>{let n=(0,o.get)("".concat(i,"/"));n.on("response",n=>{if(200===n.statusCode){let t="";n.on("data",e=>{t+=e}),n.on("end",()=>{e(JSON.parse(t))})}else t(Error("Failed to retrieve speeldagen"))}),n.on("error",e=>{t(e)})})}function h(e){return new Promise((t,n)=>{let r=(0,o.get)("".concat(s).concat(e,"/klassement"));r.on("response",o=>{if(200===o.statusCode){let e="";o.on("data",t=>{e+=t}),o.on("end",()=>{let n=JSON.parse(e);t(n),console.log("speeldagklassement is: "+JSON.stringify(n))})}else n(Error("Failed to retrieve klassement for speeldagen with id ".concat(e)))}),r.on("error",e=>{n(e)})})}function m(e){return console.log("id is in getklassmentespeeldag: "+e),new Promise((t,n)=>{let r=(0,o.get)("".concat(i,"/").concat(e,"/klassement"));r.on("response",e=>{if(200===e.statusCode){let n="";e.on("data",e=>{n+=e}),e.on("end",()=>{let e=JSON.parse(n);t(e),console.log("Klassement is: "+e)})}else n(Error("Failed to retrieve klassement for seizoen with id"))}),r.on("error",e=>{n(e)})})}function g(e){return new Promise((t,n)=>{let r=(0,o.get)("".concat(a).concat(e));r.on("response",o=>{if(200===o.statusCode){let e="";o.on("data",t=>{e+=t}),o.on("end",()=>{t(JSON.parse(e))})}else n(Error("Failed to retrieve user with id ".concat(e)))}),r.on("error",e=>{n(e)})})}function f(){return new Promise((e,t)=>{let n=(0,o.get)(a);n.on("response",n=>{if(200===n.statusCode){let t="";n.on("data",e=>{t+=e}),n.on("end",()=>{e(JSON.parse(t))})}else t(Error("Failed to retrieve users"))}),n.on("error",e=>{t(e)})})}function j(e,t){return new Promise((n,r)=>{let s=JSON.stringify({betaald:t}),a=(0,o.request)({hostname:"app.snookerpocket.online",port:443,path:"/api/users/".concat(e),method:"PATCH",headers:{"Content-Type":"application/json"}},t=>{let o="";t.on("data",e=>{o+=e}),t.on("end",()=>{201===t.statusCode?n(JSON.parse(o)):r(Error("Failed to update user ".concat(e,". Status code: ").concat(t.statusCode)))})});a.on("error",e=>{r(e)}),a.write(s),a.end()})}function w(e,t){return new Promise((n,r)=>{let s={path:"".concat(c).concat(t),method:"PUT",headers:{"Content-Type":"application/json"}};e.user=localStorage.getItem("userID");let a=JSON.stringify(e),i=(0,o.request)(s,e=>{let t="";e.on("data",e=>{t+=e}),e.on("end",()=>{201===e.statusCode?n(JSON.parse(t)):r(Error("Failed to Post speeldag vote. Status code: ".concat(e.statusCode)))})});i.write(a),i.end()})}function S(e,t,n,r){return new Promise((s,a)=>{let i=JSON.stringify({datum:e,thuis:t,uit:n}),c=(0,o.request)({hostname:"app.snookerpocket.online",port:443,path:"/api/speeldagen/".concat(r,"/wedstrijden"),method:"POST",headers:{"Content-Type":"application/json"}},e=>{let t="";e.on("data",e=>{t+=e}),e.on("end",()=>{201===e.statusCode?s(JSON.parse(t)):(a(Error("Failed to post wedstrijd. Status code: ".concat(e.statusCode))),s([]))})});c.on("error",e=>{a(e)}),c.write(i),c.end()})}function C(e,t,n,r,s,a){return new Promise((i,c)=>{let d=JSON.stringify({datum:e,resultaat:r,thuis:t,uit:n}),l=(0,o.request)({hostname:"app.snookerpocket.online",port:443,path:"/api/wedstrijden/".concat(s),method:"PATCH",headers:{"Content-Type":"application/json"}},e=>{let t="";e.on("data",e=>{t+=e}),e.on("end",()=>{201===e.statusCode?(i(JSON.parse(t)),O(a)):(c(Error("Failed to post wedstrijd. Status code: ".concat(e.statusCode))),i([]))})});l.on("error",e=>{c(e)}),l.write(d),l.end()})}function k(e,t,n,r,s){return new Promise((a,i)=>{let c={path:"".concat(d).concat(s),method:"PATCH",headers:{"Content-Type":"application/json"}},l=JSON.stringify({schiftingsantwoord:Number(t),schiftingsvraag:e,startDatum:n,eindDatum:r}),u=(0,o.request)(c,e=>{let t="";e.on("data",e=>{t+=e}),e.on("end",()=>{201===e.statusCode?a(JSON.parse(t)):(i(Error("Failed to post wedstrijd. Status code: ".concat(e.statusCode))),a([]))})});u.on("error",e=>{i(e)}),u.write(l),u.end()})}function P(e){return new Promise((t,n)=>{let r=JSON.stringify({seizoenBeeindigd:!0}),s=(0,o.request)({hostname:"app.snookerpocket.online",port:443,path:"/api/seizoenen/".concat(e),method:"PATCH",headers:{"Content-Type":"application/json"}},e=>{let o="";e.on("data",e=>{o+=e}),e.on("end",()=>{201===e.statusCode?t(JSON.parse(o)):n(Error("Failed to patch seizoen: ".concat(e.statusCode)))})});s.on("error",e=>{n(e)}),s.write(r),s.end()})}function A(e,t,n,r,s){return new Promise((a,i)=>{let c={schiftingsantwoord:Number(t),schiftingsvraag:e,wedstrijden:[],speeldagVotes:[],klassement:[],startDatum:n,eindDatum:r};console.log(c);let d=JSON.stringify(c),l=(0,o.request)({hostname:"app.snookerpocket.online",port:443,path:"/api/seizoenen/".concat(s,"/speeldagen"),method:"POST",headers:{"Content-Type":"application/json"}},e=>{let t="";e.on("data",e=>{t+=e}),e.on("end",()=>{201===e.statusCode?a(JSON.parse(t)):(i(Error("Failed to post speeldag. Status code: ".concat(e.statusCode))),a([]))})});l.on("error",e=>{i(e)}),l.write(d),l.end()})}function N(e){return new Promise((t,n)=>{let r=(0,o.request)({hostname:"app.snookerpocket.online",port:443,path:"/api/wedstrijden/".concat(e),method:"DELETE"},e=>{let o="";e.on("data",e=>{o+=e}),e.on("end",()=>{204===e.statusCode?t():n(Error("Failed to delete wedstrijd. Status code: ".concat(e.statusCode)))})});r.on("error",e=>{n(e)}),r.end()})}function v(e,t){return new Promise((n,r)=>{let s={path:"".concat(c,"update/").concat(t),method:"PATCH",headers:{"Content-Type":"application/json"}},a=JSON.stringify(e),i=(0,o.request)(s,e=>{let t="";e.on("data",e=>{t+=e}),e.on("end",()=>{201===e.statusCode?n(JSON.parse(t)):r(Error("Failed to put speeldag vote. Status code: ".concat(e.statusCode)))})});i.write(a),i.end()})}function x(e){let t=localStorage.getItem("userID");return new Promise((n,r)=>{let s=(0,o.get)("".concat(c).concat(e,"/").concat(t,"/votes"));s.on("response",e=>{if(200===e.statusCode){let t="";e.on("data",e=>{t+=e}),e.on("end",()=>{n(JSON.parse(t))})}else r(Error("Failed to retrieve votes"))}),s.on("error",e=>{r(e)})})}function O(e){return new Promise((e,t)=>{(0,o.request)({path:"".concat(i,"/klassement"),method:"POST",headers:{"Content-Type":"application/json"}},e=>{let n="";e.on("data",e=>{n+=e}),e.on("end",()=>{200===e.statusCode?l().then(e=>{console.log(e),e[0]&&e.forEach(e=>{var t;console.log("Updating klassement for speeldag: "+e._id),t=e._id,new Promise((e,n)=>{let r={path:"".concat(d).concat(t,"/klassement"),method:"POST",headers:{"Content-Type":"application/json"}};(0,o.request)(r,e=>{let t="";e.on("data",e=>{t+=e}),e.on("end",()=>{200===e.statusCode||n(Error("Failed to Post speeldag vote. Status code: ".concat(e.statusCode)))})}).end()})})}):t(Error("Failed to Post speeldag vote. Status code: ".concat(e.statusCode)))})}).end()})}},2459:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var o=n(5893),r=n(7294);n(9664);var s=n(1664),a=n.n(s),i=()=>{let[e,t]=(0,r.useState)(""),[n,s]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{t(localStorage.getItem("userMail")||""),s("true"===localStorage.getItem("admin"))},[]),(0,o.jsx)(o.Fragment,{children:e&&(0,o.jsxs)("div",{className:"header",children:[(0,o.jsx)("a",{href:"#index",className:"logo",children:"Snooker Pocket"}),(0,o.jsxs)("div",{className:"header-right",children:[(0,o.jsx)(a(),{href:{pathname:"/"},children:"Home"}),n&&(0,o.jsx)(a(),{href:{pathname:"/admin"},children:"Admin Page"}),e&&(0,o.jsx)("p",{children:e}),(0,o.jsx)("a",{onClick:()=>{localStorage.removeItem("userMail"),localStorage.removeItem("userID"),localStorage.removeItem("admin"),t(""),window.location.href="/login"},children:"Log uit"})]})]})})},c=n(5675),d=n.n(c),l={src:"/_next/static/media/snooker.65360a99.png",height:159,width:200,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAYAAAD+Bd/7AAAAkklEQVR42mOAgf///zP+efNG4N+fPzv+/fv3AshnhUk4AbElmINQ3Pb3xw8hMAeo+v+/v3+DgYIiH/JyQt4wMCR9P3LYFsjXAJpmAFIQAsQeP06dSvk8e1bFh8L8pu/HjroCFaj/+/3bCGYk8/uYKG0gLQjEtkAcimwf859XrxgZgABopPe/v3//A3ESmP/3LysAYh5tgNvaLGAAAAAASUVORK5CYII=",blurWidth:8,blurHeight:6};function u(){return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("footer",{children:[(0,o.jsxs)("div",{className:"footerFlex",children:[(0,o.jsx)("div",{className:"imageFooter",children:(0,o.jsx)(d(),{src:l,width:110,alt:"Picture of the author"})}),(0,o.jsxs)("div",{id:"address",children:[(0,o.jsx)("h3",{children:"Snooker Pocket"}),(0,o.jsx)("p",{children:"Hoogstraat 78"}),(0,o.jsx)("p",{children:"8540 Deerlijk"}),(0,o.jsx)("p",{children:(0,o.jsx)("a",{href:"tel:0473 79 73 50",children:"0473 79 73 50"})})]}),(0,o.jsxs)("div",{className:"",children:[(0,o.jsx)("h3",{children:"Volg ons"}),(0,o.jsxs)("p",{children:["Via onze",(0,o.jsx)("a",{href:"https://www.facebook.com/Snooker-Pocket-790776524369943",target:"_blank",children:" facebookpagina "}),"houden we je op de hoogte van alle updates en nieuwtjes"]})]})]}),(0,o.jsx)("div",{className:"subfooter",children:(0,o.jsx)("div",{className:"uk-container",children:(0,o.jsx)("div",{className:"uk-grid",children:(0,o.jsx)("div",{className:"uk-width-1-2@s uk-text-left@s",children:(0,o.jsx)("p",{children:"\xa9 2020 Snooker Pocket"})})})})})]})})}function p(e){let{children:t}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i,{}),t,(0,o.jsx)(u,{})]})}},9664:function(){}}]);