(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[688],{2057:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/speeldagen",function(){return n(2898)}])},2898:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var a=n(5893),r=n(2459);n(9102);var l=n(7294),s=n(2345),o=n(682),i=n(4051),d=n(1555);let c={width:"50%"};var u=e=>{let{popupContent:t,triggerButtonName:n}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(s.Z,{modal:!0,contentStyle:c,trigger:(0,a.jsx)("button",{className:"btn btn-sm btn-light m-1",children:n}),position:"right center",children:e=>(0,a.jsx)(o.Z,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"50vh"},children:(0,a.jsx)(i.Z,{children:(0,a.jsx)(d.Z,{xs:12,className:"text-center",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("button",{class:"btn btn-danger",onClick:e,style:{position:"absolute",top:"5px",right:"5px"},children:"X"}),t]})})})})})})};n(22);var h=n(1163);n(6852);var m=n(2914),g=n(3680),p=n(7481);function x(e){let{wedstrijden:t,seizoenID:n}=e,r=e=>{window.confirm("Weet je zeker dat je deze wedstrijd wilt verwijderen?")&&((0,p.Hx)(e),setTimeout(()=>{window.location.reload()},1e3))};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("ul",{children:t.map(e=>(0,a.jsxs)("li",{children:["Thuis: ",e.thuis," - Uit: ",e.uit,(0,a.jsx)(u,{popupContent:function(e,t,n,r,l){let{seizoenId:s}=(0,h.useRouter)().query;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(m.Z,{onSubmit:function(t){t.preventDefault();let n=new FormData(t.target),a=n.get("date"),r=n.get("homeTeam"),l=n.get("awayTeam"),o=n.get("resultaat");(0,p.DX)(a,r,l,o,e,s).then(e=>{console.log("Wedstrijd patched successfully:",e),setTimeout(()=>{window.location.reload()},1e3)}).catch(e=>{console.error("Failed to patch wedstrijd:",e.message)})},children:[(0,a.jsxs)(m.Z.Group,{controlId:"date",children:[(0,a.jsx)(m.Z.Label,{children:"Date:"}),(0,a.jsx)(m.Z.Control,{type:"date",placeholder:"Enter date",name:"date",defaultValue:new Date(r).toISOString().split("T")[0]})]}),(0,a.jsxs)(m.Z.Group,{controlId:"homeTeam",children:[(0,a.jsx)(m.Z.Label,{children:"Home Team:"}),(0,a.jsx)(m.Z.Control,{type:"text",placeholder:"Enter home team",name:"homeTeam",defaultValue:t})]}),(0,a.jsxs)(m.Z.Group,{controlId:"awayTeam",children:[(0,a.jsx)(m.Z.Label,{children:"Away Team:"}),(0,a.jsx)(m.Z.Control,{type:"text",placeholder:"Enter away team",name:"awayTeam",defaultValue:n})]}),(0,a.jsxs)(m.Z.Group,{controlId:"resultaat",children:[(0,a.jsx)(m.Z.Label,{children:"Resultaat: (1) thuisploeg gewonnen (2) uitploeg gewonnen (x) gelijkspel"}),(0,a.jsx)(m.Z.Control,{type:"text",placeholder:"Resultaat",name:"resultaat",defaultValue:l})]}),(0,a.jsx)(g.Z,{variant:"primary",type:"submit",children:"Submit"})]})})}(e._id,e.thuis,e.uit,e.datum,e.resultaat,n),triggerButtonName:"Pas aan"}),(0,a.jsx)("button",{className:"btn btn-light btn-sm m-1",id:"delete",onClick:()=>r(e._id),children:"Verwijder"})]},e._id))})})}function j(e){let t=new Date(e),n=t.getTimezoneOffset();return new Date(t.getTime()-6e4*n).toISOString().split("T")[0]}function f(e){let t=new Date(e),n=t.getTimezoneOffset();return new Date(t.getTime()-6e4*n).toISOString().split("T")[1].split(".")[0]}function w(){let e=(0,h.useRouter)(),{seizoenId:t}=e.query;console.log(t),(0,l.useEffect)(()=>{let t=localStorage.getItem("admin");console.log(t),"false"===t&&e.push("/")},[]);let[n,s]=(0,l.useState)([]);return(0,l.useEffect)(()=>{(0,p.Rz)().then(e=>{console.log(e),s(e)}).catch(e=>{console.error(e.message)})},[]),(0,a.jsxs)(r.Z,{children:[(0,a.jsx)("div",{className:"header",children:(0,a.jsx)("h1",{children:"Dashboard Admin"})}),(0,a.jsx)(u,{popupContent:function(){let{seizoenId:e}=(0,h.useRouter)().query;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(m.Z,{onSubmit:function(t){t.preventDefault();let n=new FormData(t.target),a=n.get("startdatum"),r=n.get("startUur"),l=n.get("eindatum"),s=n.get("einduur"),o=n.get("schiftingsvraag"),i=n.get("schiftingantwoord"),d=new Date(a+" "+r).toISOString(),c=new Date(l+" "+s).toISOString();(0,p.IK)(o,i,d,c,e).then(e=>{console.log("Speeldag posted successfully:",e),setTimeout(()=>{window.location.reload()},1e3)}).catch(e=>{console.error("Failed to post speeldag:",e.message)})},children:[(0,a.jsxs)(m.Z.Group,{controlId:"schiftingsVraag",children:[(0,a.jsx)(m.Z.Label,{children:"Schiftingsvraag:"}),(0,a.jsx)(m.Z.Control,{type:"text",placeholder:"Schiftingsvraag",name:"schiftingsvraag"})]}),(0,a.jsxs)(m.Z.Group,{controlId:"schiftingsAntwoord",children:[(0,a.jsx)(m.Z.Label,{children:"Schiftingsantwoord:"}),(0,a.jsx)(m.Z.Control,{type:"text",placeholder:"Schiftingsantwoord",name:"schiftingantwoord"})]}),(0,a.jsxs)(m.Z.Group,{controlId:"startdatum",children:[(0,a.jsx)(m.Z.Label,{children:"startDatum::"}),(0,a.jsx)(m.Z.Control,{type:"date",placeholder:"startdatum",name:"startdatum"})]}),(0,a.jsxs)(m.Z.Group,{controlId:"startUur",children:[(0,a.jsx)(m.Z.Label,{children:"startUur:"}),(0,a.jsx)(m.Z.Control,{type:"time",placeholder:"startUur",name:"startUur"})]}),(0,a.jsxs)(m.Z.Group,{controlId:"eindatum",children:[(0,a.jsx)(m.Z.Label,{children:"eindatum invullen"}),(0,a.jsx)(m.Z.Control,{type:"date",placeholder:"eindatum",name:"eindatum"})]}),(0,a.jsxs)(m.Z.Group,{controlId:"einduur",children:[(0,a.jsx)(m.Z.Label,{children:"einduur invullen"}),(0,a.jsx)(m.Z.Control,{type:"time",placeholder:"einduur",name:"einduur"})]}),(0,a.jsx)(g.Z,{variant:"primary",type:"submit",children:"Submit"})]})})}(),triggerButtonName:"nieuw Speeldag"}),(0,a.jsx)("div",{className:"speeldag",children:(0,a.jsx)("ul",{children:n.map((e,t)=>{var n;return(0,a.jsxs)("li",{children:[(0,a.jsxs)("div",{className:"speeldagHead",children:[(0,a.jsxs)("h2",{children:["Speeldag ",1+t]}),(0,a.jsx)(u,{popupContent:function(e,t,n,r,l){let{seizoenId:s}=(0,h.useRouter)().query,o=j(new Date(n)),i=f(new Date(n)),d=j(new Date(r)),c=f(new Date(r));return console.log("datum",j),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(m.Z,{onSubmit:function(e){e.preventDefault();let t=new FormData(e.target),n=t.get("startdatum"),a=t.get("startUur"),r=t.get("eindatum"),o=t.get("einduur"),i=t.get("schiftingsvraag"),d=t.get("schiftingantwoord"),c=new Date(n+" "+a).toISOString(),u=new Date(r+" "+o).toISOString();(0,p.pn)(i,d,c,u,l).then(e=>{console.log("Wedstrijd patched successfully:",e),(0,p.zz)(s),setTimeout(()=>{window.location.reload()},1e3)}).catch(e=>{console.error("Failed to patch wedstrijd:",e.message)})},children:[(0,a.jsxs)(m.Z.Group,{controlId:"schiftingsVraag",children:[(0,a.jsx)(m.Z.Label,{children:"Schiftingsvraag:"}),(0,a.jsx)(m.Z.Control,{type:"text",placeholder:"Schiftingsvraag",name:"schiftingsvraag",defaultValue:e})]}),(0,a.jsxs)(m.Z.Group,{controlId:"schiftingsAntwoord",children:[(0,a.jsx)(m.Z.Label,{children:"Schiftingsantwoord:"}),(0,a.jsx)(m.Z.Control,{type:"text",placeholder:"Schiftingsantwoord",name:"schiftingantwoord",defaultValue:t})]}),(0,a.jsxs)(m.Z.Group,{controlId:"startdatum",children:[(0,a.jsx)(m.Z.Label,{children:"startDatum::"}),(0,a.jsx)(m.Z.Control,{type:"date",placeholder:"startdatum",name:"startdatum",defaultValue:o})]}),(0,a.jsxs)(m.Z.Group,{controlId:"startUur",children:[(0,a.jsx)(m.Z.Label,{children:"startUur:"}),(0,a.jsx)(m.Z.Control,{type:"time",placeholder:"startUur",name:"startUur",defaultValue:i,format:"HH:mm"})]}),(0,a.jsxs)(m.Z.Group,{controlId:"eindatum",children:[(0,a.jsx)(m.Z.Label,{children:"eindatum invullen"}),(0,a.jsx)(m.Z.Control,{type:"date",placeholder:"eindatum",name:"eindatum",defaultValue:d})]}),(0,a.jsxs)(m.Z.Group,{controlId:"einduur",children:[(0,a.jsx)(m.Z.Label,{children:"einduur invullen"}),(0,a.jsx)(m.Z.Control,{type:"time",placeholder:"einduur",name:"einduur",defaultValue:c})]}),(0,a.jsx)(g.Z,{variant:"primary",type:"submit",children:"Submit"})]})})}(e.schiftingsvraag,e.schiftingsantwoord,e.startDatum,e.eindDatum,e._id),triggerButtonName:"pas aan"}),(0,a.jsx)(u,{popupContent:(n=e._id,(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(m.Z,{onSubmit:function(e){e.preventDefault();let t=new FormData(e.target),a=t.get("date"),r=t.get("homeTeam"),l=t.get("awayTeam");(0,p.sx)(a,r,l,n).then(e=>{console.log("Wedstrijd posted successfully:",e),setTimeout(()=>{window.location.reload()},1e3)}).catch(e=>{console.error("Failed to post wedstrijd:",e.message)})},children:[(0,a.jsxs)(m.Z.Group,{controlId:"date",children:[(0,a.jsx)(m.Z.Label,{children:"Date:"}),(0,a.jsx)(m.Z.Control,{type:"date",placeholder:"Enter date",name:"date"})]}),(0,a.jsxs)(m.Z.Group,{controlId:"homeTeam",children:[(0,a.jsx)(m.Z.Label,{children:"Home Team:"}),(0,a.jsx)(m.Z.Control,{type:"text",placeholder:"Enter home team",name:"homeTeam"})]}),(0,a.jsxs)(m.Z.Group,{controlId:"awayTeam",children:[(0,a.jsx)(m.Z.Label,{children:"Away Team:"}),(0,a.jsx)(m.Z.Control,{type:"text",placeholder:"Enter away team",name:"awayTeam"})]}),(0,a.jsx)(g.Z,{variant:"primary",type:"submit",children:"Submit"})]})})),triggerButtonName:"Nieuwe wedstrijd"})]}),(0,a.jsx)(x,{wedstrijden:e.wedstrijden})]},e._id)})})})]})}},22:function(){}},function(e){e.O(0,[271,61,321,599,232,888,774,179],function(){return e(e.s=2057)}),_N_E=e.O()}]);